app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: 75-difyæ¡ˆä¾‹åˆ†äº«-AI åŠ©åŠ›åˆä¸­åŒ–å­¦å­¦ä¹ ï¼šç”¨ Qwen Code+Dify ä¸€é”®ç”Ÿæˆäº¤äº’å¼å…ƒç´ å‘¨æœŸè¡¨ç½‘é¡µ
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/openai_api_compatible:0.0.16@77274df8fe2632cac66bfd153fcc75aa5e96abbe92b5c611b8984ad9f4cd4457
kind: app
version: 0.3.0
workflow:
  conversation_variables: []
  environment_variables:
  - description: ''
    id: 451091a5-0858-45a8-bac5-32e0cf1dff3f
    name: apikey
    selector:
    - env
    - apikey
    value: sk-zhouhui1122444
    value_type: string
  - description: ''
    id: 822e397b-49b4-4329-82fe-88b639a8f7ed
    name: apiurl
    selector:
    - env
    - apiurl
    value: http://14.103.204.132:8080/generate-html/
    value_type: string
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 500
        batch_count_limit: 10
        file_size_limit: 100
        image_file_size_limit: 100
        video_file_size_limit: 500
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: start
        targetType: llm
      id: 1754787959214-llm
      source: '1754787959214'
      sourceHandle: source
      target: llm
      targetHandle: target
      type: custom
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: llm-source-1754804008914-target
      source: llm
      sourceHandle: source
      target: '1754804008914'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: answer
      id: 1754804008914-source-1754804162304-target
      source: '1754804008914'
      sourceHandle: source
      target: '1754804162304'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 52
      id: '1754787959214'
      position:
        x: 79.1687621038572
        y: 282
      positionAbsolute:
        x: 79.1687621038572
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}


            {{#sys.files#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 10
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: cerebras/qwen-3-coder-480b
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: 030ebb73-cb0f-48f7-bb03-3989dffc14e6
          role: system
          text: "# Role: åˆä¸­åŒ–å­¦å…ƒç´ å‘¨æœŸè¡¨HTMLé¡µé¢ç”Ÿæˆä¸“å®¶\n\n## Profile\n- Author: åŒ–å­¦æ•™è‚²æŠ€æœ¯ä¸“å®¶\n-\
            \ Version: 1.0\n- Language: ä¸­æ–‡\n- Description: ä¸“é—¨ä¸ºåˆä¸­åŒ–å­¦æ•™å­¦è®¾è®¡çš„å…ƒç´ å‘¨æœŸè¡¨HTMLé¡µé¢ç”Ÿæˆä¸“å®¶ï¼Œèƒ½å¤Ÿåˆ›å»ºç¬¦åˆåˆä¸­åŒ–å­¦æ•™å­¦å¤§çº²è¦æ±‚çš„äº¤äº’å¼å…ƒç´ å‘¨æœŸè¡¨ç½‘é¡µ\n\
            \n## Skills\n1. æ·±åº¦ç†è§£åˆä¸­åŒ–å­¦å…ƒç´ å‘¨æœŸè¡¨çŸ¥è¯†ç‚¹å’Œæ•™å­¦è¦æ±‚\n2. ç²¾é€šHTML5ã€CSS3å’ŒJavaScriptå‰ç«¯æŠ€æœ¯\n\
            3. å…·å¤‡å“åº”å¼ç½‘é¡µè®¾è®¡èƒ½åŠ›\n4. äº†è§£åˆä¸­ç”Ÿçš„è®¤çŸ¥ç‰¹ç‚¹å’Œå­¦ä¹ ä¹ æƒ¯\n5. æŒæ¡æ•™è‚²æŠ€æœ¯å’Œå¯è§†åŒ–è®¾è®¡åŸç†\n6. ç†Ÿæ‚‰æ— éšœç¢ç½‘é¡µè®¾è®¡æ ‡å‡†\n\
            \n## Rules\n1. ä¸¥æ ¼æŒ‰ç…§åˆä¸­åŒ–å­¦æ•™å­¦å¤§çº²è¦æ±‚ï¼ŒåªåŒ…å«åˆä¸­é˜¶æ®µéœ€è¦æŒæ¡çš„å…ƒç´ \n2. é¡µé¢è®¾è®¡å¿…é¡»ç®€æ´æ˜äº†ï¼Œç¬¦åˆåˆä¸­ç”Ÿçš„è®¤çŸ¥æ°´å¹³\n\
            3. ç¡®ä¿æ‰€æœ‰åŒ–å­¦ä¿¡æ¯çš„å‡†ç¡®æ€§å’Œç§‘å­¦æ€§\n4. ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ³¨é‡Šè¯¦ç»†ï¼Œä¾¿äºæ•™å¸ˆç†è§£å’Œä¿®æ”¹\n5. æ”¯æŒå¤šç§è®¾å¤‡è®¿é—®ï¼Œå…·å¤‡è‰¯å¥½çš„å“åº”å¼è®¾è®¡\n\
            6. éµå¾ªç½‘é¡µæ— éšœç¢è®¾è®¡åŸåˆ™ï¼Œç¡®ä¿æ‰€æœ‰å­¦ç”Ÿéƒ½èƒ½æ­£å¸¸ä½¿ç”¨\n7. é¢œè‰²æ­é…è¦è€ƒè™‘è‰²ç›²è‰²å¼±å­¦ç”Ÿçš„éœ€æ±‚\n\n## Workflow\n1. **éœ€æ±‚åˆ†æé˜¶æ®µ**\n\
            \   - ç¡®è®¤ç›®æ ‡ç”¨æˆ·ï¼ˆåˆä¸­ç”Ÿå’ŒåŒ–å­¦æ•™å¸ˆï¼‰\n   - æ˜ç¡®æ•™å­¦ç›®æ ‡å’ŒåŠŸèƒ½éœ€æ±‚\n   - äº†è§£æŠ€æœ¯é™åˆ¶å’Œéƒ¨ç½²ç¯å¢ƒ\n\n2. **å†…å®¹è§„åˆ’é˜¶æ®µ**\n\
            \   - ç¡®å®šéœ€è¦å±•ç¤ºçš„å…ƒç´ èŒƒå›´ï¼ˆé€šå¸¸ä¸ºå‰20ä¸ªå…ƒç´ ï¼‰\n   - è§„åˆ’å…ƒç´ ä¿¡æ¯å±•ç¤ºå†…å®¹ï¼ˆåŸå­åºæ•°ã€å…ƒç´ ç¬¦å·ã€ä¸­æ–‡åç§°ã€åŸå­é‡ç­‰ï¼‰\n \
            \  - è®¾è®¡äº¤äº’åŠŸèƒ½ï¼ˆç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ã€æœç´¢ã€åˆ†ç±»ç­‰ï¼‰\n\n3. **ç•Œé¢è®¾è®¡é˜¶æ®µ**\n   - è®¾è®¡ç¬¦åˆåˆä¸­ç”Ÿå®¡ç¾çš„è§†è§‰é£æ ¼\n   -\
            \ è§„åˆ’å¸ƒå±€ç»“æ„å’Œé¢œè‰²æ–¹æ¡ˆ\n   - è®¾è®¡äº¤äº’æ•ˆæœå’ŒåŠ¨ç”»\n\n4. **ä»£ç å®ç°é˜¶æ®µ**\n   - ç¼–å†™è¯­ä¹‰åŒ–çš„HTMLç»“æ„\n  \
            \ - å®ç°å“åº”å¼CSSæ ·å¼\n   - æ·»åŠ JavaScriptäº¤äº’åŠŸèƒ½\n   - è¿›è¡Œè·¨æµè§ˆå™¨å…¼å®¹æ€§å¤„ç†\n\n5. **æµ‹è¯•ä¼˜åŒ–é˜¶æ®µ**\n\
            \   - åŠŸèƒ½æµ‹è¯•å’Œå…¼å®¹æ€§æµ‹è¯•\n   - æ€§èƒ½ä¼˜åŒ–å’Œä»£ç ä¼˜åŒ–\n   - æ•™å­¦æ•ˆæœè¯„ä¼°å’Œæ”¹è¿›\n\n## Initialization\n\
            ä½œä¸ºåˆä¸­åŒ–å­¦å…ƒç´ å‘¨æœŸè¡¨HTMLé¡µé¢ç”Ÿæˆä¸“å®¶ï¼Œæˆ‘å°†ä¸ºæ‚¨åˆ›å»ºä¸€ä¸ªä¸“ä¸šã€å®ç”¨ã€ç¬¦åˆæ•™å­¦éœ€æ±‚çš„å…ƒç´ å‘¨æœŸè¡¨ç½‘é¡µã€‚\n\nè¯·å‘Šè¯‰æˆ‘æ‚¨çš„å…·ä½“éœ€æ±‚ï¼š\n\n\
            **åŸºç¡€ä¿¡æ¯æ”¶é›†ï¼š**\n1. ç›®æ ‡å­¦æ®µï¼šåˆä¸€/åˆäºŒ/åˆä¸‰ï¼Ÿ\n2. å…ƒç´ èŒƒå›´ï¼šå‰18ä¸ªå…ƒç´ /å‰20ä¸ªå…ƒç´ /å…¶ä»–ï¼Ÿ\n3. ä¸»è¦åŠŸèƒ½ï¼šåŸºç¡€å±•ç¤º/äº¤äº’æŸ¥è¯¢/ç»ƒä¹ æµ‹è¯•ï¼Ÿ\n\
            4. è®¾å¤‡æ”¯æŒï¼šPCç«¯/ç§»åŠ¨ç«¯/å¹³æ¿/å…¨å¹³å°ï¼Ÿ\n5. ç‰¹æ®Šè¦æ±‚ï¼šæ˜¯å¦éœ€è¦æ‰“å°å‹å¥½/ç¦»çº¿ä½¿ç”¨/ç‰¹å®šé¢œè‰²ä¸»é¢˜ï¼Ÿ\n\n**æŠ€æœ¯åå¥½ï¼š**\n\
            1. å¤æ‚åº¦ï¼šç®€å•é™æ€é¡µé¢/ä¸­ç­‰äº¤äº’/é«˜çº§åŠŸèƒ½ï¼Ÿ\n2. æ¡†æ¶é€‰æ‹©ï¼šåŸç”ŸHTML/Bootstrap/å…¶ä»–æ¡†æ¶ï¼Ÿ\n3. å…¼å®¹æ€§ï¼šç°ä»£æµè§ˆå™¨/IEå…¼å®¹/ç§»åŠ¨ç«¯ä¼˜å…ˆï¼Ÿ\n\
            \n**æ•™å­¦éœ€æ±‚ï¼š**\n1. å±•ç¤ºä¿¡æ¯ï¼šå…ƒç´ ç¬¦å·ã€åç§°ã€åŸå­åºæ•°ã€åŸå­é‡ã€ç”µå­æ’å¸ƒï¼Ÿ\n2. åˆ†ç±»æ–¹å¼ï¼šé‡‘å±/éé‡‘å±/ç¨€æœ‰æ°”ä½“çš„é¢œè‰²åŒºåˆ†ï¼Ÿ\n\
            3. äº¤äº’åŠŸèƒ½ï¼šç‚¹å‡»è¯¦æƒ…/æœç´¢åŠŸèƒ½/è®°å¿†ç»ƒä¹ ï¼Ÿ\n4. è¾…åŠ©åŠŸèƒ½ï¼šè¯­éŸ³æœ—è¯»/æ”¾å¤§é•œ/é«˜å¯¹æ¯”åº¦æ¨¡å¼ï¼Ÿ\n\næˆ‘å°†æ ¹æ®æ‚¨çš„éœ€æ±‚ç”Ÿæˆå®Œæ•´çš„HTMLä»£ç ï¼ŒåŒ…æ‹¬ï¼š\n\
            - ç»“æ„æ¸…æ™°çš„HTMLæ–‡æ¡£\n- ç¾è§‚å®ç”¨çš„CSSæ ·å¼\n- æµç•…çš„JavaScriptäº¤äº’\n- è¯¦ç»†çš„ä»£ç æ³¨é‡Š\n- ä½¿ç”¨è¯´æ˜æ–‡æ¡£\n\n\
            ç°åœ¨è¯·å‘Šè¯‰æˆ‘æ‚¨çš„å…·ä½“éœ€æ±‚ï¼Œæˆ‘å°†ä¸ºæ‚¨é‡èº«å®šåˆ¶æœ€é€‚åˆçš„åˆä¸­åŒ–å­¦å…ƒç´ å‘¨æœŸè¡¨HTMLé¡µé¢ï¼"
        - id: ab82da82-0868-4627-9b27-b1d1be132c1c
          role: user
          text: è¯·æ ¹æ®ç”¨æˆ·è¾“å…¥çš„æç¤ºè¯{{#sys.query#}}ç”Ÿæˆåˆä¸­åŒ–å­¦å…ƒç´ å‘¨æœŸè¡¨HTML
        selected: false
        title: LLM
        type: llm
        variables: []
        vision:
          enabled: false
      height: 88
      id: llm
      position:
        x: 375
        y: 282
      positionAbsolute:
        x: 375
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "import json\nimport re\nimport time\nimport requests\n\ndef main(json_html:\
          \ str, apikey: str,apiurl: str) -> dict:\n    try:\n        # å»é™¤è¾“å…¥å­—ç¬¦ä¸²ä¸­çš„\
          \ ```html å’Œ ``` æ ‡è®°\n        match = re.search(r'```html\\s*([\\s\\S]*?)```',\
          \ json_html, re.DOTALL)\n        \n        if match:\n            # group(1)\
          \ è·å–ç¬¬ä¸€ä¸ªæ•è·ç»„çš„å†…å®¹ï¼Œå³çº¯HTMLä»£ç \n            # .strip() å»é™¤å¯èƒ½å­˜åœ¨çš„å‰åç©ºç™½\n           \
          \ html_content = match.group(1).strip()\n        else:\n            # å¦‚æœåœ¨è¾“å…¥ä¸­æ‰¾ä¸åˆ°HTMLä»£ç å—ï¼Œåˆ™è¿”å›é”™è¯¯\n\
          \            raise ValueError(\"æœªèƒ½åœ¨è¾“å…¥ä¸­æ‰¾åˆ° ```html ... ``` ä»£ç å—ã€‚\")\n     \
          \   \n        # ç”Ÿæˆæ—¶é—´æˆ³ï¼Œç¡®ä¿æ–‡ä»¶åå”¯ä¸€\n        timestamp = int(time.time())\n  \
          \      filename = f\"makehtml_{timestamp}.html\"\n        \n        # APIç«¯ç‚¹ï¼ˆå‡è®¾æœ¬åœ°è¿è¡Œï¼‰\n\
          \        url = f\"{apiurl}\"\n        \n        # è¯·æ±‚æ•°æ®\n        payload\
          \ = {\n            \"html_content\": html_content,\n            \"filename\"\
          : filename  # ä½¿ç”¨ä¼ å…¥çš„æ–‡ä»¶å\n        }\n        \n        # è®¾ç½®è¯·æ±‚å¤´ï¼ˆåŒ…å«è®¤è¯tokenï¼‰\n\
          \        headers = {\n            \"Authorization\": f\"Bearer {apikey}\"\
          ,  # æ›¿æ¢ä¸ºå®é™…çš„è®¤è¯token\n            \"Content-Type\": \"application/json\"\n\
          \        }\n        \n        try:\n            # å‘é€POSTè¯·æ±‚\n           \
          \ response = requests.post(url, json=payload, headers=headers)\n       \
          \     \n            # æ£€æŸ¥å“åº”çŠ¶æ€\n            if response.status_code == 200:\n\
          \                result = response.json()\n                html_url = result.get(\"\
          html_url\", \"\")\n                generated_filename = result.get(\"filename\"\
          , \"\")\n                \n                # è¿”å›ç»“æœ\n                return\
          \ {\n                    \"html_url\": html_url,\n                    \"\
          filename\": generated_filename,\n                    \"markdown_result\"\
          :  f\"[ç‚¹å‡»æŸ¥çœ‹]({html_url})\"\n                }\n            else:\n     \
          \           raise Exception(f\"HTTP Error: {response.status_code}, Message:\
          \ {response.text}\")\n        \n        except requests.exceptions.RequestException\
          \ as e:\n            raise Exception(f\"Request failed: {str(e)}\")\n  \
          \  \n    except Exception as e:\n        return {\n            \"error\"\
          : f\"Error: {str(e)}\"\n        }"
        code_language: python3
        desc: ''
        outputs:
          filename:
            children: null
            type: string
          html_url:
            children: null
            type: string
          markdown_result:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ
        type: code
        variables:
        - value_selector:
          - llm
          - text
          value_type: string
          variable: json_html
        - value_selector:
          - env
          - apikey
          value_type: string
          variable: apikey
        - value_selector:
          - env
          - apiurl
          value_type: string
          variable: apiurl
      height: 52
      id: '1754804008914'
      position:
        x: 677
        y: 282
      positionAbsolute:
        x: 677
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#1754804008914.html_url#}}

          {{#1754804008914.markdown_result#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 123
      id: '1754804162304'
      position:
        x: 979
        y: 282
      positionAbsolute:
        x: 979
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: -639.3275396903281
      y: 36.26090010579304
      zoom: 1.2030250360821164
