app:
  description: å¯ä»¥é€šè¿‡è¯¥å·¥ä½œæµå®ç°ä¸­å°å­¦æ•°å­¦é”™é¢˜æœ¬æ”¶é›†æ•´ç†ï¼Œå¹¶ç»“åˆé”™é¢˜æœ¬ç”Ÿæˆå¯¹åº”çš„é”™é¢˜è¿›è¡Œç»ƒä¹ å’Œæ‰“å°ã€‚ç”±äºç¯‡å¹…æœ‰é™ï¼Œæœ¬å·¥ä½œæµå…ˆå®ç°é”™é¢˜æœ¬æ”¶é›†ï¼Œåé¢å†åŸºäºé”™é¢˜ç‰ˆå®ç°AI
    é”™é¢˜ç”Ÿæˆå’Œç»ƒä¹ åŠŸèƒ½ã€‚
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: 58-difyæ¡ˆä¾‹åˆ†äº«-ä¸­å°å­¦æ•°å­¦é”™é¢˜æœ¬-ç”ŸæˆåŒç±»å‹é¢˜
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: hjlarry/database:0.0.6@2f547ea4b80c5bbec2b953843a37de9aff7427d276b763a8e237c6b2188359b3
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/volcengine_maas:0.0.14@287c49e4e33dea665c74e1f14692ac8b88d1b432864ee89d796b33f410bdaff0
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: bowenliang123/md_exporter:1.2.0@b18d95d19f25ed9c73d758048a69cf37c14c1f9f801b354aa7469db44f0df4d6
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/modelscope:0.0.4@5a3245e52b864fa8a20686baf5add2f5517eae5f11f94419bf46edbe170731e8
kind: app
version: 0.3.0
workflow:
  conversation_variables:
  - description: åŸºäºæ•°æ®åº“æ£€ç´¢åˆ°çš„é”™é¢˜
    id: 7a3583bf-a8da-42a4-a396-224fa7ae9ae5
    name: error_questions_result
    selector:
    - conversation
    - error_questions_result
    value: []
    value_type: array[string]
  environment_variables:
  - description: ''
    id: 0046558d-88ec-45ea-9ff5-4b0655e71752
    name: offset
    selector:
    - env
    - offset
    value: '0'
    value_type: string
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 500
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 100
        video_file_size_limit: 500
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: æ¬¢è¿ä½¿ç”¨ä¸­å°å­¦ç”Ÿæ•°å­¦é”™é¢˜æœ¬ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ”¶é›†æ•´ç†å­¦ç”Ÿé”™é¢˜æœ¬å¹¶åŸºäºé”™é¢˜ç”ŸæˆåŒç±»å‹é¢˜ç›®
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
    - æŸ¥è¯¢é”™é¢˜æœ¬
    - ç”ŸæˆåŒç±»å‹é”™é¢˜
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: code
      id: 1748491186985-source-1748496112827-target
      source: '1748491186985'
      sourceHandle: source
      target: '1748496112827'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1748496112827-source-1748498500352-target
      source: '1748496112827'
      sourceHandle: source
      target: '1748498500352'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: code
      id: 1748500215899-false-1748491186985-target
      source: '1748500215899'
      sourceHandle: 'false'
      target: '1748491186985'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 1748498500352-source-1748512116726-target
      source: '1748498500352'
      sourceHandle: source
      target: '1748512116726'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: assigner
      id: 1748512116726-source-1748500405970-target
      source: '1748512116726'
      sourceHandle: source
      target: '1748500405970'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: template-transform
        targetType: if-else
      id: 1748513490597-source-1748500215899-target
      source: '1748513490597'
      sourceHandle: source
      target: '1748500215899'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: answer
      id: 1748500405970-source-1748514553764-target
      source: '1748500405970'
      sourceHandle: source
      target: '1748514553764'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1748523986796'
        sourceType: iteration-start
        targetType: code
      id: 1748523986796start-source-1748525033636-target
      source: 1748523986796start
      sourceHandle: source
      target: '1748525033636'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: iteration
      id: 1748500215899-true-1748523986796-target
      source: '1748500215899'
      sourceHandle: 'true'
      target: '1748523986796'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1748523986796'
        sourceType: code
        targetType: llm
      id: 1748525033636-source-1748525345107-target
      source: '1748525033636'
      sourceHandle: source
      target: '1748525345107'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: tool
      id: 1748525958382-source-1748525975509-target
      source: '1748525958382'
      sourceHandle: source
      target: '1748525975509'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: answer
      id: 1748525975509-source-1748530637671-target
      source: '1748525975509'
      sourceHandle: source
      target: '1748530637671'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: iteration
        targetType: code
      id: 1748523986796-source-1748531231325-target
      source: '1748523986796'
      sourceHandle: source
      target: '1748531231325'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1748531231325-source-1748525958382-target
      source: '1748531231325'
      sourceHandle: source
      target: '1748525958382'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: question-classifier
      id: 1742961448129-source-1748565481932-target
      source: '1742961448129'
      sourceHandle: source
      target: '1748565481932'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: code
      id: 1748565481932-1-1748491186985-target
      source: '1748565481932'
      sourceHandle: '1'
      target: '1748491186985'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: template-transform
      id: 1748565481932-2-1748513490597-target
      source: '1748565481932'
      sourceHandle: '2'
      target: '1748513490597'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - allowed_file_extensions: []
          allowed_file_types:
          - image
          allowed_file_upload_methods:
          - local_file
          - remote_url
          label: é”™é¢˜è®°å½•æ—¶é—´
          max_length: 48
          options:
          - ä»Šå¤©
          - æœ€è¿‘ä¸€å‘¨
          - æœ€è¿‘ä¸€æœˆ
          - å…¨éƒ¨
          required: true
          type: select
          variable: time
        - label: ç§‘ç›®
          max_length: 48
          options:
          - æ•°å­¦
          - è¯­æ–‡
          - è‹±è¯­
          - ç‰©ç†
          - åŒ–å­¦
          - é“å¾·ä¸æ³•åˆ¶
          - å†å²
          - åœ°ç†
          - ç”Ÿç‰©
          required: true
          type: select
          variable: subject
        - label: é¢˜ç›®ç±»å‹
          max_length: 48
          options:
          - é€‰æ‹©é¢˜
          - å¡«ç©ºé¢˜
          - åˆ¤æ–­é¢˜
          - é—®ç­”é¢˜
          required: false
          type: select
          variable: question_type
        - label: éš¾åº¦ç­‰çº§(1-5)
          max_length: 48
          options:
          - '1'
          - '2'
          - '3'
          - '4'
          - '5'
          required: false
          type: select
          variable: difficulty
        - label: æŸ¥è¯¢é¢˜ç›®æ•°é‡
          max_length: 48
          options:
          - '1'
          - '2'
          - '3'
          - '4'
          required: true
          type: select
          variable: count
        - label: ç”ŸæˆåŒç±»å‹é¢˜ç›®çš„æ•°æ®
          max_length: 48
          options:
          - '1'
          - '2'
          - '3'
          - '4'
          - '5'
          required: true
          type: select
          variable: questionsCount
      height: 219
      id: '1742961448129'
      position:
        x: -1735.834705993238
        y: 105.99452934193752
      positionAbsolute:
        x: -1735.834705993238
        y: 105.99452934193752
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\nfrom datetime import datetime, timedelta\n\ndef main(arg1:\
          \ str) -> dict:\n    \"\"\"\n    æ ¹æ®è¾“å…¥çš„æ—¶é—´èŒƒå›´å‚æ•°ç”Ÿæˆå¯¹åº”çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ã€‚\n    :param\
          \ arg1: æ—¶é—´èŒƒå›´å‚æ•°ï¼Œå¯é€‰å€¼ä¸º \"ä»Šå¤©\", \"æœ€è¿‘ä¸€å‘¨\", \"æœ€è¿‘ä¸€æœˆ\", \"å…¨éƒ¨\"\n    :return: åŒ…å«å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´çš„å­—å…¸ï¼Œå¦‚æœå‚æ•°æ— æ•ˆåˆ™è¿”å›é”™è¯¯ä¿¡æ¯\n\
          \    \"\"\"\n    try:\n        today = datetime.now()\n        \n      \
          \  if arg1 == \"ä»Šå¤©\":\n            start_time = today.replace(hour=0, minute=0,\
          \ second=0, microsecond=0)\n            end_time = today.replace(hour=23,\
          \ minute=59, second=59, microsecond=999999)\n        elif arg1 == \"æœ€è¿‘ä¸€å‘¨\"\
          :\n            end_time = today.replace(hour=23, minute=59, second=59, microsecond=999999)\n\
          \            start_time = end_time - timedelta(days=6)  # åŒ…å«ä»Šå¤©å…±7å¤©\n    \
          \        start_time = start_time.replace(hour=0, minute=0, second=0, microsecond=0)\n\
          \        elif arg1 == \"æœ€è¿‘ä¸€æœˆ\":\n            end_time = today.replace(hour=23,\
          \ minute=59, second=59, microsecond=999999)\n            # è®¡ç®—ä¸€ä¸ªæœˆå‰çš„æ—¥æœŸ\n \
          \           month = today.month - 1 or 12\n            year = today.year\
          \ - (today.month == 1)\n            # è·å–è¯¥æœˆçš„æœ€åä¸€å¤©\n            last_day =\
          \ 31\n            while True:\n                try:\n                  \
          \  start_time = datetime(year, month, last_day)\n                    break\n\
          \                except ValueError:\n                    last_day -= 1\n\
          \            start_time = start_time.replace(hour=0, minute=0, second=0,\
          \ microsecond=0)\n        elif arg1 == \"å…¨éƒ¨\":\n            start_time =\
          \ datetime(2000, 1, 1, 0, 0, 0)\n            end_time = datetime(2035, 1,\
          \ 1, 0, 0, 0)  # ä¿®æ”¹ç»“æŸæ—¶é—´ä¸º2035-01-01\n        else:\n            raise ValueError(\"\
          æ— æ•ˆçš„æ—¶é—´èŒƒå›´å‚æ•°\")\n        \n        # æ ¼å¼åŒ–æ—¶é—´ä¸ºå­—ç¬¦ä¸²\n        start_time_str = start_time.strftime(\"\
          %Y-%m-%d %H:%M:%S\")\n        end_time_str = end_time.strftime(\"%Y-%m-%d\
          \ %H:%M:%S\")\n        \n        return {\"start_time\": start_time_str,\
          \ \"end_time\": end_time_str}\n    \n    except ValueError as e:\n     \
          \   return {\"error\": f\"å‚æ•°é”™è¯¯: {e}\"}\n    except Exception as e:\n   \
          \     return {\"error\": f\"å‘ç”ŸæœªçŸ¥é”™è¯¯: {e}\"}"
        code_language: python3
        desc: ''
        outputs:
          end_time:
            children: null
            type: string
          start_time:
            children: null
            type: string
        selected: false
        title: æ—¶é—´è½¬æ¢
        type: code
        variables:
        - value_selector:
          - '1742961448129'
          - time
          variable: arg1
      height: 53
      id: '1748491186985'
      position:
        x: -349.316238314301
        y: 226.93949927835763
      positionAbsolute:
        x: -349.316238314301
        y: 226.93949927835763
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(subject: str, count: str = None, offset: str = \"0\", question_type:\
          \ str = None, \n         difficulty: str = None, start_time: str = None,\
          \ end_time: str = None) -> dict:\n    \"\"\"\n    åŠ¨æ€ç”Ÿæˆé”™è¯¯é—®é¢˜è¡¨çš„SQLæŸ¥è¯¢è¯­å¥\n  \
          \  :param subject: å­¦ç§‘(å¿…å¡«)\n    :param count: é—®é¢˜æ•°é‡(é€‰å¡«ï¼Œé»˜è®¤ä¸ºNoneè¡¨ç¤ºä¸é™åˆ¶)\n   \
          \ :param offset: åç§»é‡(é€‰å¡«ï¼Œé»˜è®¤ä¸º0)\n    :param question_type: é¢˜ç›®ç±»å‹(é€‰å¡«)\n    :param\
          \ difficulty: éš¾åº¦ç­‰çº§(é€‰å¡«)\n    :param start_time: å¼€å§‹æ—¶é—´(é€‰å¡«)\n    :param end_time:\
          \ ç»“æŸæ—¶é—´(é€‰å¡«)\n    :return: åŒ…å«ç”Ÿæˆçš„SQLæŸ¥è¯¢å­—ç¬¦ä¸²æˆ–é”™è¯¯ä¿¡æ¯çš„å­—å…¸\n    \"\"\"\n    try:\n \
          \       # éªŒè¯å¿…å¡«å‚æ•°\n        if not subject:\n            raise ValueError(\"\
          subjectå‚æ•°æ˜¯å¿…éœ€çš„\")\n\n        # å†…éƒ¨SQLè½¬ä¹‰å‡½æ•°ï¼ˆåˆå¹¶è¿›mainï¼‰\n        def _escape_sql(value):\n\
          \            \"\"\"é˜²æ­¢SQLæ³¨å…¥ï¼Œç®€å•å¤„ç†å•å¼•å·\"\"\"\n            if value is None:\n\
          \                return None\n            if isinstance(value, str):\n \
          \               return value.replace(\"'\", \"''\")\n            return\
          \ str(value)\n\n        # åˆå§‹åŒ–æŸ¥è¯¢ç»„ä»¶\n        conditions = [f\"subject = '{_escape_sql(subject)}'\"\
          ]\n\n        # æ·»åŠ å¯é€‰å‚æ•°æ¡ä»¶\n        if question_type:\n            conditions.append(f\"\
          question_type = '{_escape_sql(question_type)}'\")\n\n        if difficulty:\n\
          \            conditions.append(f\"difficulty = '{_escape_sql(difficulty)}'\"\
          )\n\n        # å¤„ç†æ—¶é—´èŒƒå›´æ¡ä»¶\n        if start_time and end_time:\n         \
          \   conditions.append(\n                f\"created_at BETWEEN '{_escape_sql(start_time)}'\
          \ AND '{_escape_sql(end_time)}'\")\n        elif start_time:\n         \
          \   conditions.append(f\"created_at >= '{_escape_sql(start_time)}'\")\n\
          \        elif end_time:\n            conditions.append(f\"created_at <=\
          \ '{_escape_sql(end_time)}'\")\n\n        # æ„å»ºå®Œæ•´SQL\n        sql = f\"SELECT\
          \ question_text, `subject`,question_type,created_at FROM error_questions\
          \ WHERE {' AND '.join(conditions)} ORDER BY created_at DESC\"\n        \n\
          \        # æ·»åŠ LIMITå’ŒOFFSET\n        if count:\n            # éªŒè¯countæ˜¯å¦ä¸ºæ­£æ•´æ•°\n\
          \            if not count.isdigit() or int(count) <= 0:\n              \
          \  raise ValueError(\"countå¿…é¡»æ˜¯æ­£æ•´æ•°\")\n            sql += f\" LIMIT {count}\"\
          \n            \n            # éªŒè¯offsetæ˜¯å¦ä¸ºéè´Ÿæ•´æ•°\n            if not offset.isdigit():\n\
          \                raise ValueError(\"offsetå¿…é¡»æ˜¯éè´Ÿæ•´æ•°\")\n            sql +=\
          \ f\" OFFSET {offset}\"\n\n        return {\"query\": sql}\n\n    except\
          \ ValueError as e:\n        return {\"error\": f\"å‚æ•°é”™è¯¯: {str(e)}\"}\n  \
          \  except Exception as e:\n        return {\"error\": f\"å‘ç”ŸæœªçŸ¥é”™è¯¯: {str(e)}\"\
          }"
        code_language: python3
        default_value:
        - key: query
          type: string
          value: ''
        desc: ''
        error_strategy: default-value
        outputs:
          query:
            children: null
            type: string
        selected: false
        title: sqlè¯­å¥æ‹¼æ¥
        type: code
        variables:
        - value_selector:
          - '1742961448129'
          - subject
          variable: subject
        - value_selector:
          - '1742961448129'
          - question_type
          variable: question_type
        - value_selector:
          - '1742961448129'
          - difficulty
          variable: difficulty
        - value_selector:
          - '1748491186985'
          - start_time
          variable: start_time
        - value_selector:
          - '1748491186985'
          - end_time
          variable: end_time
        - value_selector:
          - '1742961448129'
          - count
          variable: count
        - value_selector:
          - env
          - offset
          variable: offset
      height: 89
      id: '1748496112827'
      position:
        x: -50.04437455027153
        y: 226.93949927835763
      positionAbsolute:
        x: -50.04437455027153
        y: 226.93949927835763
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The SQL query string.
            ja_JP: The SQL query string.
            pt_BR: The SQL query string.
            zh_Hans: SQL æŸ¥è¯¢è¯­å¥ã€‚
          label:
            en_US: SQL Query
            ja_JP: SQL Query
            pt_BR: SQL Query
            zh_Hans: SQL æŸ¥è¯¢è¯­å¥
          llm_description: The SQL query string.
          max: null
          min: null
          name: query
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Optional, Filling in this field will overwrite the database connection
              entered during authorization.
            ja_JP: Optional, Filling in this field will overwrite the database connection
              entered during authorization.
            pt_BR: Optional, Filling in this field will overwrite the database connection
              entered during authorization.
            zh_Hans: é€‰å¡«ï¼Œå¡«å†™åå°†è¦†ç›–æˆæƒæ—¶å¡«å†™çš„æ•°æ®åº“è¿æ¥ã€‚
          label:
            en_US: DB URI
            ja_JP: DB URI
            pt_BR: DB URI
            zh_Hans: DB URI
          llm_description: ''
          max: null
          min: null
          name: db_uri
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: json
          form: form
          human_description:
            en_US: Choose the output format.
            ja_JP: Choose the output format.
            pt_BR: Choose the output format.
            zh_Hans: é€‰æ‹©è¾“å‡ºæ ¼å¼ã€‚
          label:
            en_US: Output format
            ja_JP: Output format
            pt_BR: Output format
            zh_Hans: è¾“å‡ºæ ¼å¼
          llm_description: ''
          max: null
          min: null
          name: format
          options:
          - label:
              en_US: JSON
              ja_JP: JSON
              pt_BR: JSON
              zh_Hans: JSON
            value: json
          - label:
              en_US: CSV
              ja_JP: CSV
              pt_BR: CSV
              zh_Hans: CSV
            value: csv
          - label:
              en_US: YAML
              ja_JP: YAML
              pt_BR: YAML
              zh_Hans: YAML
            value: yaml
          - label:
              en_US: Markdown
              ja_JP: Markdown
              pt_BR: Markdown
              zh_Hans: Markdown
            value: md
          - label:
              en_US: Excel
              ja_JP: Excel
              pt_BR: Excel
              zh_Hans: Excel
            value: xlsx
          - label:
              en_US: HTML
              ja_JP: HTML
              pt_BR: HTML
              zh_Hans: HTML
            value: html
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: null
          form: form
          human_description:
            en_US: 'Optional. For example {"connect_args": {"ssl": {"ca": "/path/to/ca.pem"}}}

              More connection options can be found at https://docs.sqlalchemy.org/en/20/core/engines.html#sqlalchemy.create_engine

              '
            ja_JP: 'Optional. For example {"connect_args": {"ssl": {"ca": "/path/to/ca.pem"}}}

              More connection options can be found at https://docs.sqlalchemy.org/en/20/core/engines.html#sqlalchemy.create_engine

              '
            pt_BR: 'Optional. For example {"connect_args": {"ssl": {"ca": "/path/to/ca.pem"}}}

              More connection options can be found at https://docs.sqlalchemy.org/en/20/core/engines.html#sqlalchemy.create_engine

              '
            zh_Hans: 'é€‰å¡«é¡¹ã€‚ä¾‹å¦‚ {"connect_args": {"ssl": {"ca": "/path/to/ca.pem"}}}

              æ›´å¤šè¿æ¥é€‰é¡¹å¯å‚è€ƒ https://docs.sqlalchemy.org/en/20/core/engines.html#sqlalchemy.create_engine

              '
          label:
            en_US: DB Config Options
            ja_JP: DB Config Options
            pt_BR: DB Config Options
            zh_Hans: æ•°æ®åº“è¿æ¥é…ç½®é€‰é¡¹
          llm_description: ''
          max: null
          min: null
          name: config_options
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          config_options: ''
          db_uri: ''
          format: ''
          query: ''
        provider_id: hjlarry/database/database
        provider_name: hjlarry/database/database
        provider_type: builtin
        selected: false
        title: SQL Execute
        tool_configurations:
          config_options: null
          format: md
        tool_description: æ­¤å·¥å…·ç”¨äºåœ¨å·²å­˜åœ¨çš„æ•°æ®åº“ä¸­æ‰§è¡Œ SQL æŸ¥è¯¢ã€‚
        tool_label: SQL Execute
        tool_name: sql_execute
        tool_parameters:
          query:
            type: mixed
            value: '{{#1748496112827.query#}}'
        type: tool
      height: 115
      id: '1748498500352'
      position:
        x: 317.43145030751856
        y: 226.93949927835763
      positionAbsolute:
        x: 317.43145030751856
        y: 226.93949927835763
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 3cfc8212-1acf-44e1-bd49-c16fb0af5373
            value: '{{#1742961448129.count#}}'
            varType: string
            variable_selector:
            - '1748513490597'
            - output
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 125
      id: '1748500215899'
      position:
        x: -672.5903588849121
        y: 74.72522726080535
      positionAbsolute:
        x: -672.5903588849121
        y: 74.72522726080535
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1748512116726'
          - error_questions
          variable_selector:
          - conversation
          - error_questions_result
          write_mode: over-write
        selected: false
        title: å˜é‡èµ‹å€¼
        type: assigner
        version: '2'
      height: 87
      id: '1748500405970'
      position:
        x: 239.94946214524273
        y: 485.6858644143282
      positionAbsolute:
        x: 239.94946214524273
        y: 485.6858644143282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(markdown_table: str) -> dict:\n    try:\n        # å»é™¤é¦–å°¾ç©ºç™½ï¼Œåˆ†å‰²æ¯ä¸€è¡Œ\n\
          \        lines = markdown_table.strip().split('\\n')\n\n        # æå–è¡¨å¤´\n\
          \        headers = [h.strip() for h in lines[0].split('|')]\n\n        #\
          \ è·å– question_text æ‰€åœ¨åˆ—ç´¢å¼•\n        try:\n            question_index = headers.index('question_text')\n\
          \        except ValueError:\n            return {\"error\": \"ç¼ºå°‘ question_text\
          \ åˆ—\"}\n\n        # æå– question_text å†…å®¹\n        questions = []\n      \
          \  for line in lines[2:]:  # è·³è¿‡è¡¨å¤´å’Œåˆ†éš”çº¿\n            if not line.strip():\n\
          \                continue\n            columns = [col.strip() for col in\
          \ line.split('|')]\n            if len(columns) > question_index:\n    \
          \            questions.append(columns[question_index])\n\n        return\
          \ {\"error_questions\": questions}\n\n    except Exception as e:\n     \
          \   return {\"error\": f\"å‘ç”Ÿé”™è¯¯: {str(e)}\"}\n"
        code_language: python3
        default_value:
        - key: error_questions
          type: array[string]
          value: '[]'
        desc: ''
        error_strategy: default-value
        outputs:
          error_questions:
            children: null
            type: array[string]
        selected: false
        title: æå–markdownæ•°æ®
        type: code
        variables:
        - value_selector:
          - '1748498500352'
          - text
          variable: markdown_table
      height: 89
      id: '1748512116726'
      position:
        x: -202.5964752205698
        y: 485.6858644143282
      positionAbsolute:
        x: -202.5964752205698
        y: 485.6858644143282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        selected: false
        template: '{{ error_questions_result | length }}'
        title: æ¨¡æ¿è½¬æ¢
        type: template-transform
        variables:
        - value_selector:
          - conversation
          - error_questions_result
          variable: error_questions_result
      height: 53
      id: '1748513490597'
      position:
        x: -994.9146479851429
        y: 74.72522726080535
      positionAbsolute:
        x: -994.9146479851429
        y: 74.72522726080535
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1748512116726.error_questions#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 2
        type: answer
        variables: []
      height: 103
      id: '1748514553764'
      position:
        x: 623.9069138135525
        y: 461.8748492177665
      positionAbsolute:
        x: 623.9069138135525
        y: 461.8748492177665
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        error_handle_mode: terminated
        height: 285
        is_parallel: false
        iterator_selector:
        - conversation
        - error_questions_result
        output_selector:
        - '1748525345107'
        - text
        output_type: array[string]
        parallel_nums: 10
        selected: false
        start_node_id: 1748523986796start
        title: è¿­ä»£
        type: iteration
        width: 688
      height: 285
      id: '1748523986796'
      position:
        x: -375.7160824380053
        y: -290.32841438567897
      positionAbsolute:
        x: -375.7160824380053
        y: -290.32841438567897
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 688
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1748523986796start
      parentId: '1748523986796'
      position:
        x: 24
        y: 68
      positionAbsolute:
        x: -351.7160824380053
        y: -222.32841438567897
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        code: "\ndef main(arg1: str) -> dict:\n    return {\n        \"result\": arg1\n\
          \    }\n"
        code_language: python3
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1748523986796'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: è·å–æ•°æ®æŸ¥è¯¢é”™é¢˜
        type: code
        variables:
        - value_selector:
          - '1748523986796'
          - item
          variable: arg1
      height: 53
      id: '1748525033636'
      parentId: '1748523986796'
      position:
        x: 16
        y: 65
      positionAbsolute:
        x: -359.7160824380053
        y: -225.32841438567897
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1748523986796'
        model:
          completion_params: {}
          mode: chat
          name: deepseek-V3
          provider: langgenius/volcengine_maas/volcengine_maas
        prompt_template:
        - id: 1bfba2c1-7f17-48f8-a5ba-167c03d33375
          role: system
          text: "# Role: é”™é¢˜åŒç±»å‹ç”Ÿæˆä¸“å®¶\n\n## Profile\n\n- Author: å‘¨è¾‰\n- Version: 1.1\n\
            - Language: ä¸­æ–‡\n- Description: æˆ‘æ˜¯ä¸€ä½ä¸“é—¨ç”ŸæˆåŒç±»å‹é”™é¢˜çš„AIåŠ©æ‰‹ã€‚æˆ‘èƒ½æ ¹æ®ç»™å®šçš„åŸå§‹é¢˜ç›®ç”Ÿæˆå¤šä¸ªç›¸ä¼¼çš„æ–°é¢˜ç›®ï¼Œæ¶µç›–å¤šç§é¢˜å‹å’Œå­¦ç§‘ã€‚\n\
            \n## Background\n\nåœ¨æ•™è‚²é¢†åŸŸï¼Œç»ƒä¹ ç›¸ä¼¼é¢˜ç›®å¯¹äºå·©å›ºçŸ¥è¯†ç‚¹å’Œæé«˜è§£é¢˜èƒ½åŠ›è‡³å…³é‡è¦ã€‚æœ¬ä¸“å®¶æ—¨åœ¨å¸®åŠ©æ•™è‚²å·¥ä½œè€…å’Œå­¦ç”Ÿå¿«é€Ÿç”Ÿæˆä¸åŸé¢˜ç›¸ä¼¼çš„å¤šä¸ªæ–°é¢˜ç›®ï¼Œä»¥ä¾¿è¿›è¡Œæ›´æœ‰æ•ˆçš„å­¦ä¹ å’Œå¤ä¹ ã€‚\n\
            \n## Skills\n\n- æ·±å…¥ç†è§£å„å­¦ç§‘çŸ¥è¯†ç‚¹å’Œé¢˜å‹ç‰¹å¾\n- èƒ½å¤Ÿå‡†ç¡®åˆ†æåŸå§‹é¢˜ç›®çš„ç»“æ„ã€éš¾åº¦å’Œè€ƒå¯Ÿé‡ç‚¹\n- å…·å¤‡åˆ›é€ æ€§æ€ç»´ï¼Œèƒ½å¤Ÿçµæ´»å˜æ¢é¢˜ç›®åœºæ™¯å’Œæ•°å€¼\n\
            - ç†Ÿç»ƒæŒæ¡å¤šç§é¢˜å‹çš„å‡ºé¢˜æŠ€å·§\n- èƒ½å¤Ÿæä¾›æ¸…æ™°ã€è¯¦ç»†çš„ç­”æ¡ˆå’Œè§£æ\n- èƒ½å¤Ÿæ‰¹é‡ç”Ÿæˆå¤šä¸ªç›¸ä¼¼é¢˜ç›®\n\n## Goals\n\n- æ ¹æ®ç”¨æˆ·æä¾›çš„åŸå§‹é¢˜ç›®ç”Ÿæˆ{{#1742961448129.questionsCount#}}\n\
            ç›¸ä¼¼çš„æ–°é¢˜ç›®\n\n- ä¿æŒä¸åŸé¢˜ç›¸åŒçš„é¢˜å‹å’Œéš¾åº¦çº§åˆ«\n- ç¡®ä¿æ–°ç”Ÿæˆçš„é¢˜ç›®åœ¨æ•°å€¼ã€åœºæ™¯æˆ–å…·ä½“å†…å®¹ä¸Šæœ‰æ‰€å˜åŒ–\n- ä¸ºæ¯ä¸ªæ–°é¢˜ç›®æä¾›å‡†ç¡®çš„ç­”æ¡ˆå’Œè¯¦ç»†çš„è§£æ\n\
            \n## Constraints\n\n- ä¸¥æ ¼éµå®ˆæ•™è‚²ä¼¦ç†ï¼Œä¸ç”Ÿæˆå…·æœ‰äº‰è®®æˆ–ä¸é€‚å½“çš„å†…å®¹\n- ç¡®ä¿ç”Ÿæˆçš„é¢˜ç›®éš¾åº¦é€‚ä¸­ï¼Œç¬¦åˆåŸé¢˜çš„éš¾åº¦æ°´å¹³\n\
            - ä¸å¾—ç›´æ¥å¤åˆ¶åŸé¢˜ï¼Œå¿…é¡»è¿›è¡Œåˆ›é€ æ€§çš„æ”¹ç¼–\n- ç”Ÿæˆçš„é¢˜ç›®å¿…é¡»æœ‰æ˜ç¡®çš„ç­”æ¡ˆå’Œåˆç†çš„è§£æ\n- ç”Ÿæˆçš„å¤šä¸ªé¢˜ç›®ä¹‹é—´åº”æœ‰è¶³å¤Ÿçš„å·®å¼‚æ€§\n\n\
            ## Skills\n\n- ä¸­å°å­¦å„å­¦ç§‘çŸ¥è¯†å‚¨å¤‡\n- é¢˜ç›®åˆ†æä¸ç»“æ„åŒ–èƒ½åŠ›\n- åˆ›æ„æ€ç»´å’Œçµæ´»åº”ç”¨èƒ½åŠ›\n- æ¸…æ™°çš„æ–‡å­—è¡¨è¾¾èƒ½åŠ›\n\
            - æ‰¹é‡ç”Ÿæˆç›¸ä¼¼é¢˜ç›®çš„èƒ½åŠ›\n\n## Workflows\n\n1. æ¥æ”¶å¹¶åˆ†æç”¨æˆ·è¾“å…¥çš„åŸå§‹é¢˜ç›®\n2. è¯†åˆ«é¢˜ç›®çš„ç±»å‹ã€å­¦ç§‘å’Œéš¾åº¦çº§åˆ«\n\
            3. æå–é¢˜ç›®çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹å’Œè€ƒå¯Ÿé‡ç‚¹\n4. ç¡®å®šè¦ç”Ÿæˆçš„æ–°é¢˜ç›®æ•°é‡{{#1742961448129.questionsCount#}}\n\
            \n5. å¯¹æ¯ä¸ªæ–°é¢˜ç›®ï¼š\n   a. åˆ›é€ æ€§åœ°è®¾è®¡æ–°çš„é¢˜ç›®åœºæ™¯æˆ–æ›´æ¢æ•°å€¼\n   b. ç”Ÿæˆæ–°çš„é¢˜ç›®ï¼Œç¡®ä¿ä¸åŸé¢˜ç±»å‹å’Œéš¾åº¦ç›¸å½“\n   c.\
            \ ç¼–å†™è¯¦ç»†çš„ç­”æ¡ˆå’Œè§£æ\n6. æ£€æŸ¥æ‰€æœ‰ç”Ÿæˆçš„é¢˜ç›®ï¼Œç¡®ä¿å®ƒä»¬ä¹‹é—´æœ‰è¶³å¤Ÿçš„å·®å¼‚æ€§\n7. å°†ç”Ÿæˆçš„å¤šä¸ªé¢˜ç›®æ•´ç†ä¸ºæŒ‡å®šçš„JSONæ ¼å¼\n8.\
            \ è¾“å‡ºæœ€ç»ˆç»“æœ\n\n## Output Format\nç”Ÿæˆä¸€ä»½JSONæ ¼å¼çš„é¢˜ç›®ï¼Œç»“æ„å¦‚ä¸‹ï¼š\n```json\n{\n  \"original_question\"\
            : \"ç”¨æˆ·è¾“å…¥çš„åŸå§‹é¢˜ç›®\",\n  \"generated_questions\": [\n    {\n      \"question_text\"\
            : \"æ–°ç”Ÿæˆçš„é¢˜ç›®æ–‡æœ¬1\",\n      \"question_type\": \"é¢˜ç›®ç±»å‹ï¼ˆå¦‚ï¼šé€‰æ‹©é¢˜ã€å¡«ç©ºé¢˜ç­‰ï¼‰\",\n   \
            \   \"subject\": \"å­¦ç§‘\",\n      \"difficulty_level\": \"éš¾åº¦ç­‰çº§ï¼ˆ1-5ï¼‰\",\n\
            \      \"answer\": \"æ­£ç¡®ç­”æ¡ˆ\",\n      \"explanation\": \"è¯¦ç»†çš„è§£ç­”è¿‡ç¨‹å’Œè§£æ\"\n\
            \    },\n    {\n      \"question_text\": \"æ–°ç”Ÿæˆçš„é¢˜ç›®æ–‡æœ¬2\",\n      \"question_type\"\
            : \"é¢˜ç›®ç±»å‹ï¼ˆå¦‚ï¼šé€‰æ‹©é¢˜ã€å¡«ç©ºé¢˜ç­‰ï¼‰\",\n      \"subject\": \"å­¦ç§‘\",\n      \"difficulty_level\"\
            : \"éš¾åº¦ç­‰çº§ï¼ˆ1-5ï¼‰\",\n      \"answer\": \"æ­£ç¡®ç­”æ¡ˆ\",\n      \"explanation\":\
            \ \"è¯¦ç»†çš„è§£ç­”è¿‡ç¨‹å’Œè§£æ\"\n    },\n    {\n      \"question_text\": \"æ–°ç”Ÿæˆçš„é¢˜ç›®æ–‡æœ¬3\"\
            ,\n      \"question_type\": \"é¢˜ç›®ç±»å‹ï¼ˆå¦‚ï¼šé€‰æ‹©é¢˜ã€å¡«ç©ºé¢˜ç­‰ï¼‰\",\n      \"subject\":\
            \ \"å­¦ç§‘\",\n      \"difficulty_level\": \"éš¾åº¦ç­‰çº§ï¼ˆ1-5ï¼‰\",\n      \"answer\"\
            : \"æ­£ç¡®ç­”æ¡ˆ\",\n      \"explanation\": \"è¯¦ç»†çš„è§£ç­”è¿‡ç¨‹å’Œè§£æ\"\n    }\n  ]\n}\n```json"
        - id: 3f4d94db-fc0d-4b1d-b500-11d811f2ceea
          role: user
          text: 'è¯·æ ¹æ®ç”¨æˆ·é€‰æ‹©çš„é”™é¢˜{{#1748525033636.result#}}

            ç”Ÿæˆ{{#1742961448129.questionsCount#}}ä¸ªåŒç±»å‹é¢˜'
        selected: false
        title: LLM
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1748525345107'
      parentId: '1748523986796'
      position:
        x: 431.05612571042707
        y: 68
      positionAbsolute:
        x: 55.34004327242178
        y: -222.32841438567897
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: '%Y-%m-%d %H:%M:%S'
          form: form
          human_description:
            en_US: Time format in strftime standard.
            ja_JP: Time format in strftime standard.
            pt_BR: Time format in strftime standard.
            zh_Hans: strftime æ ‡å‡†çš„æ—¶é—´æ ¼å¼ã€‚
          label:
            en_US: Format
            ja_JP: Format
            pt_BR: Format
            zh_Hans: æ ¼å¼
          llm_description: null
          max: null
          min: null
          name: format
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: UTC
          form: form
          human_description:
            en_US: Timezone
            ja_JP: Timezone
            pt_BR: Timezone
            zh_Hans: æ—¶åŒº
          label:
            en_US: Timezone
            ja_JP: Timezone
            pt_BR: Timezone
            zh_Hans: æ—¶åŒº
          llm_description: null
          max: null
          min: null
          name: timezone
          options:
          - label:
              en_US: UTC
              ja_JP: UTC
              pt_BR: UTC
              zh_Hans: UTC
            value: UTC
          - label:
              en_US: America/New_York
              ja_JP: America/New_York
              pt_BR: America/New_York
              zh_Hans: ç¾æ´²/çº½çº¦
            value: America/New_York
          - label:
              en_US: America/Los_Angeles
              ja_JP: America/Los_Angeles
              pt_BR: America/Los_Angeles
              zh_Hans: ç¾æ´²/æ´›æ‰çŸ¶
            value: America/Los_Angeles
          - label:
              en_US: America/Chicago
              ja_JP: America/Chicago
              pt_BR: America/Chicago
              zh_Hans: ç¾æ´²/èŠåŠ å“¥
            value: America/Chicago
          - label:
              en_US: America/Sao_Paulo
              ja_JP: America/Sao_Paulo
              pt_BR: AmÃ©rica/SÃ£o Paulo
              zh_Hans: ç¾æ´²/åœ£ä¿ç½—
            value: America/Sao_Paulo
          - label:
              en_US: Asia/Shanghai
              ja_JP: Asia/Shanghai
              pt_BR: Asia/Shanghai
              zh_Hans: äºšæ´²/ä¸Šæµ·
            value: Asia/Shanghai
          - label:
              en_US: Asia/Ho_Chi_Minh
              ja_JP: Asia/Ho_Chi_Minh
              pt_BR: Ãsia/Ho Chi Minh
              zh_Hans: äºšæ´²/èƒ¡å¿—æ˜å¸‚
            value: Asia/Ho_Chi_Minh
          - label:
              en_US: Asia/Tokyo
              ja_JP: Asia/Tokyo
              pt_BR: Asia/Tokyo
              zh_Hans: äºšæ´²/ä¸œäº¬
            value: Asia/Tokyo
          - label:
              en_US: Asia/Dubai
              ja_JP: Asia/Dubai
              pt_BR: Asia/Dubai
              zh_Hans: äºšæ´²/è¿ªæ‹œ
            value: Asia/Dubai
          - label:
              en_US: Asia/Kolkata
              ja_JP: Asia/Kolkata
              pt_BR: Asia/Kolkata
              zh_Hans: äºšæ´²/åŠ å°”å„ç­”
            value: Asia/Kolkata
          - label:
              en_US: Asia/Seoul
              ja_JP: Asia/Seoul
              pt_BR: Asia/Seoul
              zh_Hans: äºšæ´²/é¦–å°”
            value: Asia/Seoul
          - label:
              en_US: Asia/Singapore
              ja_JP: Asia/Singapore
              pt_BR: Asia/Singapore
              zh_Hans: äºšæ´²/æ–°åŠ å¡
            value: Asia/Singapore
          - label:
              en_US: Europe/London
              ja_JP: Europe/London
              pt_BR: Europe/London
              zh_Hans: æ¬§æ´²/ä¼¦æ•¦
            value: Europe/London
          - label:
              en_US: Europe/Berlin
              ja_JP: Europe/Berlin
              pt_BR: Europe/Berlin
              zh_Hans: æ¬§æ´²/æŸæ—
            value: Europe/Berlin
          - label:
              en_US: Europe/Moscow
              ja_JP: Europe/Moscow
              pt_BR: Europe/Moscow
              zh_Hans: æ¬§æ´²/è«æ–¯ç§‘
            value: Europe/Moscow
          - label:
              en_US: Australia/Sydney
              ja_JP: Australia/Sydney
              pt_BR: Australia/Sydney
              zh_Hans: æ¾³å¤§åˆ©äºš/æ‚‰å°¼
            value: Australia/Sydney
          - label:
              en_US: Pacific/Auckland
              ja_JP: Pacific/Auckland
              pt_BR: Pacific/Auckland
              zh_Hans: å¤ªå¹³æ´‹/å¥¥å…‹å…°
            value: Pacific/Auckland
          - label:
              en_US: Africa/Cairo
              ja_JP: Africa/Cairo
              pt_BR: Africa/Cairo
              zh_Hans: éæ´²/å¼€ç½—
            value: Africa/Cairo
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        params:
          format: ''
          timezone: ''
        provider_id: time
        provider_name: time
        provider_type: builtin
        selected: false
        title: è·å–å½“å‰æ—¶é—´
        tool_configurations:
          format: '%Y-%m-%d %H:%M:%S'
          timezone: Asia/Shanghai
        tool_description: ä¸€ä¸ªç”¨äºè·å–å½“å‰æ—¶é—´çš„å·¥å…·ã€‚
        tool_label: è·å–å½“å‰æ—¶é—´
        tool_name: current_time
        tool_parameters: {}
        type: tool
      height: 115
      id: '1748525958382'
      position:
        x: -242.25936289803872
        y: 35.37869943296732
      positionAbsolute:
        x: -242.25936289803872
        y: 35.37869943296732
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Markdown text
            ja_JP: Markdown text
            pt_BR: Markdown text
            zh_Hans: Markdownæ ¼å¼æ–‡æœ¬
          label:
            en_US: Markdown text
            ja_JP: Markdown text
            pt_BR: Markdown text
            zh_Hans: Markdownæ ¼å¼æ–‡æœ¬
          llm_description: ''
          max: null
          min: null
          name: md_text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Filename of the output file
            ja_JP: Filename of the output file
            pt_BR: Filename of the output file
            zh_Hans: è¾“å‡ºæ–‡ä»¶å
          label:
            en_US: Filename of the output file
            ja_JP: Filename of the output file
            pt_BR: Filename of the output file
            zh_Hans: è¾“å‡ºæ–‡ä»¶å
          llm_description: ''
          max: null
          min: null
          name: output_filename
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          md_text: ''
          output_filename: ''
        provider_id: bowenliang123/md_exporter/md_exporter
        provider_name: bowenliang123/md_exporter/md_exporter
        provider_type: builtin
        selected: false
        title: Markdownè½¬PDFæ–‡ä»¶
        tool_configurations: {}
        tool_description: ä¸€ä¸ªç”¨äºå°†Markdownè½¬æ¢ä¸ºPDFæ–‡ä»¶çš„å·¥å…·
        tool_label: Markdownè½¬PDFæ–‡ä»¶
        tool_name: md_to_pdf
        tool_parameters:
          md_text:
            type: mixed
            value: '{{#1748531231325.markdown_text#}}'
          output_filename:
            type: mixed
            value: åŒç±»å‹é”™é¢˜ç»ƒä¹ {{#1748525958382.text#}}
        type: tool
      height: 53
      id: '1748525975509'
      position:
        x: 190.33464526827953
        y: 59.81005963806638
      positionAbsolute:
        x: 190.33464526827953
        y: 59.81005963806638
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1748525975509.files#}}'
        desc: ''
        selected: false
        title: åŒç±»å‹é¢˜å‹ç”Ÿæˆ
        type: answer
        variables: []
      height: 103
      id: '1748530637671'
      position:
        x: 605.2754131635365
        y: 35.37869943296732
      positionAbsolute:
        x: 605.2754131635365
        y: 35.37869943296732
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\nimport re\n\ndef main(arg1) -> dict:\n    try:\n     \
          \   # æ£€æŸ¥arg1çš„ç±»å‹ï¼Œå¦‚æœå·²ç»æ˜¯åˆ—è¡¨ï¼Œç›´æ¥ä½¿ç”¨ï¼›å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œå°è¯•è§£æJSON\n        if isinstance(arg1,\
          \ list):\n            markdown_json_list = arg1\n        elif isinstance(arg1,\
          \ str):\n            # å°è¯•è§£æä¸ºJSONå¯¹è±¡\n            outer_dict = json.loads(arg1)\n\
          \            markdown_json_list = outer_dict.get(\"arg1\", [])\n       \
          \ elif isinstance(arg1, dict):\n            # å¦‚æœæ˜¯å­—å…¸ï¼Œç›´æ¥è·å–arg1å­—æ®µ\n       \
          \     markdown_json_list = arg1.get(\"arg1\", [])\n        else:\n     \
          \       # ä¸æ”¯æŒçš„ç±»å‹\n            return {\"markdown_text\": f\"è¾“å…¥ç±»å‹ä¸æ”¯æŒï¼š{type(arg1)}\"\
          }\n        \n        markdown_text = \"\"\n        original_questions_processed\
          \ = {}\n        question_counter = {}\n        \n        for markdown_json_str\
          \ in markdown_json_list:\n            # æå–å†…å±‚JSONå­—ç¬¦ä¸²ï¼ˆå»é™¤```jsonå’Œ```æ ‡è®°ï¼‰\n \
          \           match = re.search(r'```json\\s*(.*?)\\s*```', markdown_json_str,\
          \ re.DOTALL)\n            if not match:\n                continue\n    \
          \        inner_json_str = match.group(1).strip()\n            \n       \
          \     try:\n                # è§£æå†…å±‚JSONæ•°æ®\n                question_data\
          \ = json.loads(inner_json_str)\n                original_question = question_data.get(\"\
          original_question\", \"\")\n                generated_questions = question_data.get(\"\
          generated_questions\", [])\n                \n                # ä¸ºæ¯ä¸ªåŸé¢˜åˆ†é…ä¸€ä¸ªç¼–å·\n\
          \                if original_question not in original_questions_processed:\n\
          \                    original_questions_processed[original_question] = len(original_questions_processed)\
          \ + 1\n                    question_counter[original_question] = 0\n   \
          \             \n                original_question_num = original_questions_processed[original_question]\n\
          \                \n                # åªæœ‰ç¬¬ä¸€æ¬¡é‡åˆ°åŸé¢˜æ—¶æ‰æ·»åŠ åŸé¢˜ä¿¡æ¯\n               \
          \ if question_counter[original_question] == 0:\n                    markdown_text\
          \ += f\"## åŸé¢˜{original_question_num}ï¼š{original_question}\\n\\n\"\n     \
          \           \n                for i, question in enumerate(generated_questions,\
          \ 1):\n                    # æ›´æ–°åŒç±»å‹é¢˜çš„è®¡æ•°\n                    question_counter[original_question]\
          \ += 1\n                    current_question_num = question_counter[original_question]\n\
          \                    \n                    # å¤„ç†è½¬ä¹‰æ¢è¡Œç¬¦ï¼ˆå°†JSONä¸­çš„\\nè½¬æ¢ä¸ºå®é™…æ¢è¡Œï¼‰\n\
          \                    explanation = question.get(\"explanation\", \"\").replace(\"\
          \\\\n\", \"\\n\")\n                    \n                    # å¦‚æœä¸æ˜¯ç¬¬ä¸€ä¸ªåŒç±»å‹é¢˜ï¼Œå†æ¬¡æ˜¾ç¤ºåŸé¢˜ä¿¡æ¯\n\
          \                    if i > 1 or current_question_num > 1:\n           \
          \             markdown_text += f\"## åŸé¢˜{original_question_num}ï¼š{original_question}\\\
          n\\n\"\n                    \n                    markdown_text += f\"###\
          \ åŒç±»å‹é¢˜{current_question_num}ï¼š{question.get('question_text', '')}\\n\\n\"\
          \n                    markdown_text += f\"**é¢˜ç›®ç±»å‹**ï¼š{question.get('question_type',\
          \ '')}\\n\\n\"\n                    markdown_text += f\"**å­¦ç§‘**ï¼š{question.get('subject',\
          \ '')}\\n\\n\"\n                    markdown_text += f\"**éš¾åº¦ç­‰çº§(1-5)**ï¼š{question.get('difficulty_level',\
          \ '')}\\n\\n\"\n                    markdown_text += f\"**é¢˜ç›®ç­”æ¡ˆ**ï¼š{question.get('answer',\
          \ '')}\\n\\n\"\n                    markdown_text += f\"**é¢˜ç›®è¯¦è§£**ï¼š\\n\\n{explanation}\\\
          n\\n---\\n\\n\"\n            except json.JSONDecodeError:\n            \
          \    continue\n        \n        return {\"markdown_text\": markdown_text}\n\
          \    except Exception as e:\n        return {\"markdown_text\": f\"å¤„ç†è¿‡ç¨‹ä¸­å‡ºé”™ï¼š{str(e)}\"\
          }"
        code_language: python3
        default_value:
        - key: markdown_text
          type: string
          value: ''
        desc: ''
        error_strategy: default-value
        outputs:
          markdown_text:
            children: null
            type: string
        selected: false
        title: JSONè½¬markdown
        type: code
        variables:
        - value_selector:
          - '1748523986796'
          - output
          variable: arg1
      height: 89
      id: '1748531231325'
      position:
        x: 357.42103753673274
        y: -223.22359797617204
      positionAbsolute:
        x: 357.42103753673274
        y: -223.22359797617204
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        classes:
        - id: '1'
          name: æŸ¥è¯¢é”™é¢˜æœ¬
        - id: '2'
          name: ç”ŸæˆåŒç±»å‹é”™é¢˜
        desc: ''
        instructions: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: Qwen/Qwen3-32B
          provider: langgenius/modelscope/modelscope
        query_variable_selector:
        - '1742961448129'
        - sys.query
        selected: false
        title: é—®é¢˜åˆ†ç±»å™¨
        topics: []
        type: question-classifier
        vision:
          enabled: false
      height: 171
      id: '1748565481932'
      position:
        x: -1326.9508037008877
        y: 91.99830057527319
      positionAbsolute:
        x: -1326.9508037008877
        y: 91.99830057527319
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 221.61422555009398
      y: 406.1708080239371
      zoom: 0.5505284067122375
