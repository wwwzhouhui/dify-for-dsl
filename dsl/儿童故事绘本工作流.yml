app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: å„¿ç«¥æ•…äº‹ç»˜æœ¬å·¥ä½œæµ
  use_icon_as_answer_icon: false
kind: app
version: 0.1.5
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: llm
      id: 1738820318265-source-1738820355489-target
      source: '1738820318265'
      sourceHandle: source
      target: '1738820355489'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: 1738820355489-source-1738820559172-target
      source: '1738820355489'
      sourceHandle: source
      target: '1738820559172'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: code
      id: 1738832929810-source-1738832999117-target
      source: '1738832929810'
      sourceHandle: source
      target: '1738832999117'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: http-request
      id: 1738820559172-source-1738832929810-target
      source: '1738820559172'
      sourceHandle: source
      target: '1738832929810'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 1738832999117-source-answer-target
      source: '1738832999117'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: æç¤ºè¯
          max_length: 256
          options: []
          required: true
          type: text-input
          variable: prompt
        - label: åˆ†é•œæ•°é‡
          max_length: 48
          options:
          - '2'
          - '3'
          - '4'
          - '5'
          - '6'
          - '1'
          - '7'
          required: true
          type: select
          variable: promptCount
      height: 114
      id: '1738820318265'
      position:
        x: 46.12178553319774
        y: 268
      positionAbsolute:
        x: 46.12178553319774
        y: 268
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#1738832999117.result#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 101
      id: answer
      position:
        x: 840.0443580160011
        y: 487.26103684076145
      positionAbsolute:
        x: 840.0443580160011
        y: 487.26103684076145
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: æ ¹æ®ç”¨æˆ·è¾“å…¥æç¤ºè¯ç”Ÿæˆç®€çŸ­æ•…äº‹ç»˜æœ¬
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: internlm3-8b-instruct
          provider: openai_api_compatible
        prompt_template:
        - edition_type: basic
          id: a00cb45d-af10-4c6f-8216-7f6f53bccc82
          role: system
          text: "æ ¹æ®ä¸»é¢˜\"{{#1738820318265.prompt#}}\"å†™ä¸€ä¸ªçŸ­æ•…äº‹ã€‚è¦æ±‚ï¼š\n        1. ç”¨ç®€ä½“ä¸­æ–‡å†™ä½œ\n\
            \        2. ä¸è¦ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ã€æ˜Ÿå·æˆ–markdownæ ¼å¼\n        3. æ•…äº‹è¦æœ‰è¶£ä¸”å¯Œæœ‰æƒ³è±¡åŠ›\n        4.\
            \ ä¿æŒåœ¨200-300å­—ä¹‹é—´\n        5. åˆ†æˆ3-4ä¸ªè‡ªç„¶æ®µè½\n        6. ä½¿ç”¨ç®€å•æ˜äº†çš„è¯­è¨€\n       \
            \ 7. é¿å…ä½¿ç”¨æ‹¬å·ã€æ–¹æ‹¬å·æˆ–ä»»ä½•å¯èƒ½å½±å“æ–‡æœ¬è½¬è¯­éŸ³çš„ç¬¦å·`\n      : `Write a short story based on\
            \ the topic \"${topic}\". Requirements:\n        1. Write the story in\
            \ English using only regular letters and basic punctuation\n        2.\
            \ Do not use any special characters, asterisks, or markdown formatting\n\
            \        3. Make it interesting and imaginative\n        4. Keep it between\
            \ 200-300 words\n        5. Divide it into 3-4 natural paragraphs\n  \
            \      6. Use simple and clear language\n        7. Avoid using parentheses,\
            \ brackets, or any symbols that might interfere with text-to-speech"
        selected: false
        title: ç”Ÿæˆæ•…äº‹ç»˜æœ¬
        type: llm
        variables: []
        vision:
          enabled: false
      height: 124
      id: '1738820355489'
      position:
        x: 348
        y: 268
      positionAbsolute:
        x: 348
        y: 268
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: æ ¹æ®ç”¨æˆ·è¾“å…¥æç¤ºè¯è¾“å…¥çš„æ•…äº‹è½¬æ¢æˆNä¸åŒåœºæ™¯AIç»˜ç”»æç¤ºè¯
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: llama-3.3-70b-versatile
          provider: groq
        prompt_template:
        - edition_type: basic
          id: 9f7a1c88-10d1-428a-a10f-44f75674d7db
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å„¿ç«¥ç»˜æœ¬æ’ç”»å¸ˆå’ŒAIç»˜ç”»æç¤ºè¯ä¸“å®¶ï¼Œç²¾é€šä¸­è‹±æ–‡åŒè¯­ã€‚ è¯·ä¸ºè¿™æ®µæ–‡å­—{{#1738820355489.text#}}ç”Ÿæˆ{{#1738820318265.promptCount#}}ä¸ªä¸åŒåœºæ™¯çš„ç»˜å›¾æç¤ºè¯ã€‚

            é‡è¦æç¤ºï¼š

            ä¸è¦åœ¨æç¤ºè¯ä¸­ä½¿ç”¨è§’è‰²åå­—ï¼Œè€Œæ˜¯ç”¨å…·ä½“çš„å¤–è§‚ç‰¹å¾æ¥æè¿°è§’è‰²ã€‚

            ä¾‹å¦‚ï¼šä¸è¦ç”¨"å°ç™½å…”"è¿™æ ·çš„åå­—ï¼Œè€Œæ˜¯æè¿°"ä¸€åªç™½è‰²çš„å°å…”å­ï¼Œæœ‰ç€è“¬æ¾çš„æ¯›å‘å’Œçº¢è‰²çš„çœ¼ç›"ã€‚

            ç”Ÿæˆçš„æç¤ºè¯ä¸­ï¼Œtext_snippetÂ å¿…é¡»æ˜¯ä¸ç”»é¢ç›¸ç¬¦çš„ä¸­æ–‡æ–‡æœ¬ç‰‡æ®µã€‚

            è¦æ±‚ï¼š

            è§’è‰²å½¢è±¡å’Œé£æ ¼çš„ä¸¥æ ¼ä¸€è‡´æ€§ï¼š

            ç”¨å…·ä½“çš„è§†è§‰ç‰¹å¾æè¿°è§’è‰²ï¼Œè€Œä¸æ˜¯ç”¨åå­—ã€‚

            ä¸»è§’çš„å¤–è§‚ç‰¹å¾ï¼ˆæœè£…ã€æ¯›è‰²ã€ä½“å‹ç­‰ï¼‰åœ¨æ‰€æœ‰åœºæ™¯ä¸­å¿…é¡»ä¿æŒä¸€è‡´ã€‚

            ä¸»è§’çš„æ€§æ ¼ç‰¹å¾è¦é€šè¿‡å¤–è§‚å’ŒåŠ¨ä½œæ¥ä½“ç°ã€‚

            é…è§’çš„è®¾è®¡é£æ ¼è¦ä¸ä¸»è§’åè°ƒç»Ÿä¸€ã€‚

            åœºæ™¯è¿ç»­æ€§ï¼š

            åœºæ™¯ä¹‹é—´è¦æœ‰æ¸…æ™°çš„æ•…äº‹å‘å±•è„‰ç»œã€‚

            ç¯å¢ƒå…ƒç´ çš„è®¾è®¡è¦å‰åå‘¼åº”ã€‚

            è‰ºæœ¯é£æ ¼çš„ç»Ÿä¸€ï¼š

            æ‰€æœ‰åœºæ™¯ä½¿ç”¨ç›¸åŒçš„ç»˜ç”»é£æ ¼ï¼ˆå¦‚ï¼šæ°´å½©é£æ ¼ã€æ’ç”»é£æ ¼ç­‰ï¼‰ã€‚

            è‰²å½©æ–¹æ¡ˆè¦ä¿æŒä¸€è‡´ã€‚

            å…‰å½±æ•ˆæœè¦ç»Ÿä¸€ã€‚

            é€‚åˆå„¿ç«¥ç»˜æœ¬çš„è¡¨ç°æ–¹å¼ï¼š

            ç”»é¢è¦å¯Œæœ‰ç«¥è¶£å’Œæƒ³è±¡åŠ›ã€‚

            æ„å›¾è¦ç®€å•æ¸…æ™°ã€‚

            æƒ…æ„Ÿè¡¨è¾¾è¦ç”ŸåŠ¨ç›´è§‚ã€‚

            æ¯ä¸ªåœºæ™¯éœ€è¦åŒ…å«ï¼š

            åœºæ™¯æè¿°ï¼ˆä¸­æ–‡ï¼Œç®€çŸ­ç²¾ç‚¼ï¼‰ã€‚

            è¯¦ç»†çš„ä¸­æ–‡æç¤ºè¯ï¼Œæç¤ºè¯å­—ç¬¦æ€»é•¿åº¦ä¸è¶…è¿‡800ä¸ªå­—ï¼Œåˆ†æ®µæè¿°ä»¥ä¸‹è¦ç´ ï¼š

            Character: è§’è‰²çš„å…·ä½“å¤–è§‚ç‰¹å¾ã€è¡¨æƒ…ã€åŠ¨ä½œæè¿°ï¼ˆä¸ä½¿ç”¨è§’è‰²åå­—ï¼‰ã€‚

            Scene: åœºæ™¯ç¯å¢ƒã€æ°›å›´ã€å¤©æ°”ç­‰ã€‚

            Lighting: å…‰çº¿æ•ˆæœã€æ—¶é—´ã€è‰²è°ƒã€‚

            Composition: ç”»é¢æ„å›¾ã€è§†è§’ã€é‡ç‚¹ã€‚

            Style: å…·ä½“çš„è‰ºæœ¯é£æ ¼ã€ç»˜ç”»æŠ€æ³•ã€‚

            Additional: å…¶ä»–é‡è¦ç»†èŠ‚ã€‚

            å¯¹åº”çš„æ–‡æœ¬ç‰‡æ®µï¼ˆä¸­æ–‡ï¼‰ã€‚

            è¾“å‡ºæ ¼å¼ï¼š

            [

            {

            "description": "åœºæ™¯æè¿°",

            "prompt": "Character:\n[è§’è‰²å…·ä½“ç‰¹å¾æè¿°]\n\nScene:\n[åœºæ™¯æè¿°]\n\nLighting:\n[å…‰å½±æè¿°]\n\nComposition:\n[æ„å›¾æè¿°]\n\nStyle:\n[é£æ ¼æè¿°]\n\nAdditional:\n[è¡¥å……ç»†èŠ‚]",

            "text_snippet": "å¯¹åº”çš„æ–‡æœ¬ç‰‡æ®µ",

            "importance": "åœºæ™¯é‡è¦æ€§è¯„åˆ†ï¼ˆ1-5ï¼‰"

            },

            ...

            ]Â '
        selected: false
        title: AIç»˜ç”»æç¤ºè¯ä¸“å®¶
        type: llm
        variables: []
        vision:
          enabled: false
      height: 140
      id: '1738820559172'
      position:
        x: 716
        y: 268
      positionAbsolute:
        x: 716
        y: 268
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-5
            key: ''
            type: text
            value: '{{#1738820559172.text#}}'
          type: json
        desc: ''
        headers: Content-Type:application/json
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: '4997'
        selected: false
        timeout:
          connect: 300
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
          read: 300
          write: 597
        title: HTTP è¯·æ±‚
        type: http-request
        url: http://111.119.215.74:8080/jimeng/make_AI_picture_audio/
        variables: []
      height: 135
      id: '1738832929810'
      position:
        x: 89.72684834493947
        y: 519.146220837225
      positionAbsolute:
        x: 89.72684834493947
        y: 519.146220837225
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "def main(arg1: str) -> dict:\n    import json\n\n    # è§£æè¾“å…¥çš„ JSON æ•°æ®\n\
          \    try:\n        data = json.loads(arg1)\n    except json.JSONDecodeError:\n\
          \        return \"è¾“å…¥çš„å­—ç¬¦ä¸²ä¸æ˜¯æœ‰æ•ˆçš„ JSON æ ¼å¼ï¼Œè¯·æ£€æŸ¥è¾“å…¥æ•°æ®ã€‚\"\n\n    # ç¡®ä¿è§£æåçš„æ•°æ®æ˜¯ä¸€ä¸ªåˆ—è¡¨\n\
          \    if not isinstance(data, list):\n        return \"è¾“å…¥çš„æ•°æ®æ ¼å¼ä¸æ­£ç¡®ï¼Œè¯·ç¡®ä¿è¾“å…¥æ˜¯ä¸€ä¸ª\
          \ JSON æ•°ç»„å¯¹è±¡ã€‚\"\n\n    # åˆå§‹åŒ–ç»“æœå­—ç¬¦ä¸²\n    markdown_result = \"\"\n\n    # éå†æ¯æ¡æ•°æ®\n\
          \    for item in data:\n        # æ£€æŸ¥æ¯æ¡æ•°æ®æ˜¯å¦æ˜¯å­—å…¸ï¼Œå¹¶ä¸”åŒ…å«æ‰€éœ€çš„å­—æ®µ\n        if not\
          \ isinstance(item, dict) or not all(key in item for key in ('description',\
          \ 'image_url', 'audio_url')):\n            markdown_result += \"æ•°æ®æ ¼å¼ä¸å®Œæ•´ï¼Œç¼ºå°‘å¿…è¦çš„å­—æ®µï¼ˆdescription,\
          \ image_url, audio_urlï¼‰ã€‚\\n\"\n            continue\n\n        # æå–å­—æ®µå€¼\n\
          \        description = item['description']\n        image_url = item['image_url']\n\
          \        audio_url = item['audio_url']\n\n        # ç”Ÿæˆ Markdown æ ¼å¼çš„æ–‡æœ¬\n\
          \        markdown_result += f\"**æè¿°:** {description}\\n\"\n        markdown_result\
          \ += f\"![]({image_url})\\n\"  # Markdown image tag\n        markdown_result\
          \ += f\"<audio controls><source src='{audio_url}' type='audio/mpeg'>éŸ³é¢‘</audio>\\\
          n\"  # Markdown link for audio\n        markdown_result += \"\\n\"  # Add\
          \ an empty line for separation\n\n    # è¿”å›æœ€ç»ˆçš„ Markdown å­—ç¬¦ä¸²\n    return {\"\
          result\": markdown_result}"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: å¤„ç†httpæ¥å£è¿”å›ä¿¡æ¯
        type: code
        variables:
        - value_selector:
          - '1738832929810'
          - body
          variable: arg1
      height: 52
      id: '1738832999117'
      position:
        x: 455.1688375816626
        y: 526.9987195696087
      positionAbsolute:
        x: 455.1688375816626
        y: 526.9987195696087
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        author: å‘¨è¾‰
        desc: ''
        height: 88
        selected: true
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"æœ¬ä½œå“ä¸»è¦æ˜¯ç”¨æˆ·è¾“å…¥æç¤ºè¯å’Œåˆ†å¢ƒæ•°é‡ï¼Œå¤§è¯­è¨€æ¨¡å‹ä¼šå¯¹æç¤ºè¯è¿›è¡Œæ‰©å†™ï¼Œç„¶ååœ¨è½¬ç»™å¦å¤–ä¸€ä¸ªå¤§æ¨¡å‹è¿›è¡ŒAIç»˜ç”»æç¤ºè¯ç¼–å†™ï¼Œè°ƒç”¨æœåŠ¡ç«¯æ¥å£è¿”å›AIç»˜ç”»ä»¥åŠ","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 240
      height: 88
      id: '1739793075339'
      position:
        x: 68.2490634711089
        y: 704.5898963077941
      positionAbsolute:
        x: 68.2490634711089
        y: 704.5898963077941
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 240
    viewport:
      x: 201.20963357759422
      y: -172.16085966924277
      zoom: 1.1839103543267064
